import{_ as m,r as n,o as r,u as _,w as a,d as e,g as d,c as b,x,F as g,W as I,V as C,b as S,t as M,f as h,p as N,h as k}from"./index-f2a25bd4.js";import{C as T}from"./CompilerSelect-5a2534ce.js";import{s as q,c as B}from"./service-7069bde1.js";const w={name:"SpaceSelect"};function A(o,l,v,f,t,i){const c=n("el-option"),s=n("el-select");return r(),_(s,{class:"factory-select"},{default:a(()=>[e(c,{value:"1",label:"Eva-SpringBoot"}),e(c,{value:"2",label:"Eva-SpringCloud"})]),_:1})}const F=m(w,[["render",A],["__scopeId","data-v-dd51cda2"]]);const E={name:"ServiceTypeSelect"};function U(o,l,v,f,t,i){const c=n("el-radio"),s=n("el-radio-group");return r(),_(s,null,{default:a(()=>[e(c,{label:"MAIN"},{default:a(()=>[d("Main Service")]),_:1}),e(c,{label:"COMMON"},{default:a(()=>[d("Common Service")]),_:1})]),_:1})}const D=m(E,[["render",U],["__scopeId","data-v-c44d5132"]]);const O={name:"VersionSelect"};function z(o,l,v,f,t,i){const c=n("el-option"),s=n("el-select");return r(),_(s,{class:"version-select"},{default:a(()=>[e(c,{label:"V1",value:"v1"}),e(c,{label:"V2",value:"v2"}),e(c,{label:"V3",value:"v3"}),e(c,{label:"V4",value:"v4"}),e(c,{label:"V5",value:"v5"})]),_:1})}const L=m(O,[["render",z],["__scopeId","data-v-ba99869f"]]);const W={name:"MainServiceSelect",props:{space:{required:!0}},data(){return{services:[]}},methods:{fetchServices(){q({space:this.space,serviceTypes:["MAIN"]}).then(o=>{this.services=o}).catch(o=>{this.$tip.apiFailed(o)})}},created(){this.fetchServices()}};function j(o,l,v,f,t,i){const c=n("el-option"),s=n("el-select");return r(),_(s,{class:"main-service-select"},{default:a(()=>[(r(!0),b(g,null,x(t.services,p=>(r(),_(c,{key:p.name,value:p.name,label:p.name},null,8,["value","label"]))),128))]),_:1})}const G=m(W,[["render",j],["__scopeId","data-v-c5004e54"]]);const H={components:{MainServiceSelect:G,VersionSelect:L,DatabaseSelect:I,ServiceTypeSelect:D,CompilerSelect:T,SpaceSelect:F,I18nInput:C},data(){return{space:null,form:{name:"",type:"MAIN",mainServiceName:null,repository:"",introduce:""}}},methods:{create(){B({space:this.space,...this.form}).then(()=>{this.$router.push({name:"ServiceSettings",query:{space:this.space,service:this.form.name}})}).catch(o=>{this.$tip.apiFailed(o)})}},created(){this.space=this.$route.query.space}},J=o=>(N("data-v-bb1b43b2"),o=o(),k(),o),K={class:"form"},P={class:"wrap"},Q=J(()=>S("h2",null,"Create Service",-1)),R={key:0,class:"tip"},X={class:"opera"};function Y(o,l,v,f,t,i){const c=n("el-input"),s=n("el-form-item"),p=n("ServiceTypeSelect"),y=n("MainServiceSelect"),V=n("el-form"),$=n("el-button");return r(),b("div",K,[S("div",P,[Q,t.space!=null?(r(),b("section",R,[d(" Create Service for "),S("em",null,M(t.space),1),d(". ")])):h("",!0),e(V,null,{default:a(()=>[e(s,{label:"Service Name",required:""},{default:a(()=>[e(c,{modelValue:t.form.name,"onUpdate:modelValue":l[0]||(l[0]=u=>t.form.name=u)},null,8,["modelValue"])]),_:1}),e(s,{label:"Service Type",required:""},{default:a(()=>[e(p,{modelValue:t.form.type,"onUpdate:modelValue":l[1]||(l[1]=u=>t.form.type=u)},null,8,["modelValue"])]),_:1}),t.form.type!=="MAIN"?(r(),_(s,{key:0,label:"Main Service",required:""},{default:a(()=>[e(y,{modelValue:t.form.mainServiceName,"onUpdate:modelValue":l[2]||(l[2]=u=>t.form.mainServiceName=u),space:t.space},null,8,["modelValue","space"])]),_:1})):h("",!0)]),_:1}),S("div",X,[e($,{type:"primary",size:"large",onClick:i.create},{default:a(()=>[d("Create Service")]),_:1},8,["onClick"])])])])}const ce=m(H,[["render",Y],["__scopeId","data-v-bb1b43b2"]]);export{ce as default};
