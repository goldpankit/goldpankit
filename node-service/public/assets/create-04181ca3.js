import{_ as g,B as y,W as $,r as a,o as c,c as u,a as l,t as o,g as F,w as n,j as T,b as s,F as v,e as i}from"./index-48ed7bfc.js";import{M as I,V,S as k,a as q,p as C}from"./index-1201c798.js";import{C as B}from"./CompilerSelect-cbb7d183.js";import{F as w}from"./FormItemTip-b35d8906.js";import{c as N}from"./user.service-9c7157bc.js";import"./service-6bd385bd.js";const R={components:{FormTip:y,FormItemTip:w,MainServiceSelect:I,VersionSelect:V,ServiceTypeSelect:k,CompilerSelect:B,SpaceSelect:q,I18nInput:$},data(){return{space:null,form:{name:"",label:""}}},methods:{handleLabelInput(e){this.form.name=C(e,{toneType:"none",type:"array"}).map(t=>t.substr(0,1)).join("")},getRules(){return{name:[{required:!0,message:this.$t("form.isRequired",{value:this.$t("service.settings.name")})}],label:[{required:!0,message:this.$t("form.isRequired",{value:this.$t("service.settings.label")})}]}},create(){this.$refs.form.validate(e=>{e&&N({space:this.space,...this.form}).then(()=>{this.$router.push({name:"ServiceSettings",query:{space:this.space,service:this.form.name}})}).catch(t=>{this.$tip.apiFailed(t)})})}},created(){this.space=this.$route.query.space,this.$nextTick(()=>{setTimeout(()=>{this.$refs.labelInput.focus()},100)})}},j={class:"form"},L={class:"wrap"},M={class:"opera"};function U(e,t,z,D,r,m){const h=a("FormTip"),f=a("el-input"),d=a("FormItemTip"),_=a("el-form-item"),b=a("el-form"),S=a("el-button");return c(),u("div",j,[l("div",L,[l("h2",null,o(e.$t("service.createService")),1),r.space!=null?(c(),F(h,{key:0},{default:n(()=>[e.$i18n.locale==="en"?(c(),u(v,{key:0},[i(o(e.$t("service.createServiceFor")),1),l("em",null,o(r.space),1),i(". ")],64)):(c(),u(v,{key:1},[i(o(e.$t("service.createServiceFor1")),1),l("em",null,o(r.space),1),i(o(e.$t("service.createServiceFor2"))+"ã€‚ ",1)],64))]),_:1})):T("",!0),s(b,{ref:"form",model:r.form,rules:m.getRules()},{default:n(()=>[s(_,{label:e.$t("service.settings.label"),prop:"label",required:""},{default:n(()=>[s(f,{ref:"labelInput",modelValue:r.form.label,"onUpdate:modelValue":t[0]||(t[0]=p=>r.form.label=p),onInput:m.handleLabelInput},null,8,["modelValue","onInput"]),s(d,{content:e.$t("service.settings.labelTip")},null,8,["content"])]),_:1},8,["label"]),s(_,{label:e.$t("service.settings.name"),prop:"name",required:""},{default:n(()=>[s(f,{class:"follow-input",modelValue:r.form.name,"onUpdate:modelValue":t[1]||(t[1]=p=>r.form.name=p)},null,8,["modelValue"]),s(d,{content:e.$t("service.settings.nameTip")},null,8,["content"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),l("div",M,[s(S,{type:"primary",size:"large",onClick:m.create},{default:n(()=>[i(o(e.$t("service.createService")),1)]),_:1},8,["onClick"])])])])}const K=g(R,[["render",U],["__scopeId","data-v-c03aee91"]]);export{K as default};
