import{m as F,_ as w,r as d,o as r,c as n,a as e,b as u,t as o,F as y,f as C,n as N,w as p,g as m,h as V,i as I,v as L,j as k,e as _,p as $,d as P}from"./index-2937f55a.js";import{S as j}from"./ServiceInstaller-3a7533fa.js";import{f as B}from"./service.space-8d252d88.js";import{s as D}from"./service-022673d3.js";import"./VariableInput-95b4e3fe.js";const q={name:"ServiceDetail",props:{frameworkService:{required:!0}},data(){return{currentVersion:"v3",versions:["v3","v2","v1"]}},computed:{...F(["currentProject"])}},z={class:"service-detail"},x={class:"nav"},T={class:"title"},A=["onClick"],E={class:"install"},R={key:0},H=V('<div class="content-wrap" data-v-7043ecec><ul class="service-dimensions" data-v-7043ecec><li class="selected" data-v-7043ecec>Readme</li><li data-v-7043ecec>Sub Services</li><li data-v-7043ecec>Files</li></ul><ul class="service-list" data-v-7043ecec><li data-v-7043ecec><div class="service-info" data-v-7043ecec><h3 data-v-7043ecec>日志管理/操作日志</h3><p data-v-7043ecec>为每一次增删改操作增加操作日志</p><p class="text-mini text-info-1" data-v-7043ecec>Last publish: 3 weeks ago</p></div></li><li data-v-7043ecec><div class="service-info" data-v-7043ecec><h3 data-v-7043ecec>字典管理</h3><p data-v-7043ecec>可以将数据常量定义在字典里，通过提供的接口或service来获取，提高项目业务常量的实时修改。</p></div></li><li data-v-7043ecec><div class="service-info" data-v-7043ecec><h3 data-v-7043ecec>部门管理</h3><p data-v-7043ecec>企业部门的管理功能，支持用户设定至部门</p></div></li><li data-v-7043ecec><div class="service-info" data-v-7043ecec><h3 data-v-7043ecec>定时任务</h3><p data-v-7043ecec>通过spring自带的定时实现定时任务，可支持任务的分片功能</p></div></li><li data-v-7043ecec><div class="service-info" data-v-7043ecec><h3 data-v-7043ecec>消息通知</h3><p data-v-7043ecec>可实现业务操作后添加消息通知，通过轮询的方式定时获取消息送达用户。</p></div></li></ul></div>',1);function J(s,c,h,b,t,S){const a=d("el-button");return r(),n("div",z,[e("div",x,[e("div",T,[u(a,{class:"button-icon",icon:"ArrowLeftBold",onClick:c[0]||(c[0]=i=>s.$emit("back"))}),e("h4",null,o(h.frameworkService.name),1)]),e("ul",null,[(r(!0),n(y,null,C(t.versions,i=>(r(),n("li",{key:i,class:N({selected:i===t.currentVersion}),onClick:f=>t.currentVersion=i},o(i),11,A))),128))])]),e("div",E,[u(a,{type:"important",onClick:c[1]||(c[1]=i=>s.$emit("install",t.currentVersion))},{default:p(()=>[e("h5",null,"INSTALL"+o(s.currentProject==null?"":" to project "+s.currentProject.name),1),s.currentProject==null?(r(),n("p",R,"Please select a project for install the framework.")):m("",!0)]),_:1})]),H])}const K=w(q,[["render",J],["__scopeId","data-v-7043ecec"]]),G="/avatar.png";const M={components:{ServiceInstaller:j,ServiceDetail:K},data(){return{spaceName:null,currentFrameworkService:null,currentFrameworkServiceVersion:null,space:null,frameworkServices:[]}},methods:{fetchSpace(){B(this.spaceName).then(s=>{this.space=s,this.fetchServiceList()}).catch(s=>{console.log("e",s)})},fetchServiceList(){D({spaceName:this.spaceName,serviceTypes:["framework"]}).then(s=>{this.frameworkServices=s}).catch(s=>{console.log("e",s)})},handleServiceInstall(s){this.currentFrameworkServiceVersion=s}},created(){this.spaceName=this.$route.params.name,this.fetchSpace()}},v=s=>($("data-v-53e93643"),s=s(),P(),s),O={key:0,class:"page"},Q={class:"wrap"},U=v(()=>e("div",{class:"tech-stack-wrap"},[e("em",null,"Private"),e("p",{class:"tech-stack"},"55 services")],-1)),W={class:"content-wrap"},X={class:"dimension-wrap"},Y=v(()=>e("ul",{class:"dimensions"},[e("li",null,"Readme"),e("li",{class:"selected"},"Services"),e("li",null,"Prices"),e("li",null,"Issues")],-1)),Z={class:"detail"},ee={class:"service-list"},se=["onClick"],te=v(()=>e("section",{class:"infos"},[e("p",null,"21 sub versions"),e("p",null,"Latest version: 2.2.0")],-1)),ce=v(()=>e("section",{class:"infos text-info-1"},[e("p",null,"Last publish: 3 weeks ago")],-1)),re={class:"opera"},ie={class:"info"},le=v(()=>e("div",{class:"user-profile"},[e("div",{class:"user-info"},[e("img",{src:G}),e("h4",null,"Caesar Liu")]),e("p",{class:"description"},"Kit联合创始人，从业10年，精通Java、Vue等技术栈。")],-1)),ne={class:"install"},ae=v(()=>e("ul",null,[e("li",null,[e("label",null,"Home Page"),e("a",{href:"#"},"http://eva.adjustrd.com")]),e("li",null,[e("label",null,"Services"),e("p",null,"55")]),e("li",null,[e("label",null,"Last Publish"),e("p",null,"3 month ago")])],-1));function oe(s,c,h,b,t,S){const a=d("el-button"),i=d("ServiceDetail"),f=d("ServiceInstaller");return t.space!=null?(r(),n("div",O,[e("div",Q,[e("h2",null,o(t.space.name),1),U,e("div",W,[e("div",X,[Y,e("div",Z,[I(e("ul",ee,[(r(!0),n(y,null,C(t.frameworkServices,l=>(r(),n("li",{onClick:g=>t.currentFrameworkService=l},[e("h4",null,o(l.name),1),e("p",null,o(l.description),1),te,ce,e("div",re,[u(a,{size:"small",onClick:g=>s.$router.push({name:"ServiceSettings",query:{service_id:l.id}})},{default:p(()=>[_("Edit")]),_:2},1032,["onClick"])])],8,se))),256))],512),[[L,t.currentFrameworkService==null]]),t.currentFrameworkService!=null&&t.currentFrameworkServiceVersion==null?(r(),k(i,{key:0,"framework-service":t.currentFrameworkService,onInstall:S.handleServiceInstall,onBack:c[0]||(c[0]=l=>t.currentFrameworkService=null)},null,8,["framework-service","onInstall"])):m("",!0),t.currentFrameworkServiceVersion!=null?(r(),k(f,{key:1,space:t.space,service:t.currentFrameworkService,"service-version":t.currentFrameworkServiceVersion,"with-breadcrumbs":!0,"with-install-button":!0,onBack:c[1]||(c[1]=l=>t.currentFrameworkServiceVersion=null)},null,8,["space","service","service-version"])):m("",!0)])]),e("div",ie,[le,e("div",ne,[u(a,{type:"primary",size:"large",onClick:c[2]||(c[2]=l=>s.$router.push({name:"CreateService",query:{space_name:t.spaceName}}))},{default:p(()=>[_("Create New Service")]),_:1}),u(a,{type:"primary",size:"large",onClick:c[3]||(c[3]=l=>s.$router.push({name:"CreateService",query:{space_name:t.spaceName}}))},{default:p(()=>[_("Create New Issue")]),_:1})]),ae])])])])):m("",!0)}const _e=w(M,[["render",oe],["__scopeId","data-v-53e93643"]]);export{_e as default};
