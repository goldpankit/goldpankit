import{_ as k,E as g,M as b,m as w,r,A as S,B as N,o as i,c as n,a as s,t,J as u,b as a,F as T,h as m,j as p,w as C,e as E}from"./index-bb7c4844.js";import{S as V}from"./ServiceList-1d2b40c2.js";import{f as B}from"./service.space-f0299dfe.js";import"./BeanAmount-99a0e13e.js";import"./ServiceTitle-1b7c3ba2.js";const D={components:{ServiceList:V,Empty:g,MarkdownEditor:b},data(){return{loading:!0,route:{space:null},currentTab:"readme",space:null}},computed:{...w(["userInfo"])},methods:{fetchSpace(){B(this.route.space).then(o=>{this.space=o,this.space.description==null&&(this.space.description="")}).catch(o=>{this.$tip.apiFailed(o)}).finally(()=>{this.loading=!1})}},created(){this.route.space=this.$route.params.name,this.fetchSpace()}},I={class:"page"},P={key:0,class:"wrap"},M={class:"tech-stack-wrap"},A={class:"tech-stack"},F={class:"content-wrap"},L={class:"dimension-wrap"},z={class:"dimensions"},U={class:"detail"},j={key:0,class:"readme"},q={class:"info"},J={class:"user-profile"},O={class:"user-info"},G={class:"introduce"},H={key:0,class:"opera-wrap"},K=["href"],Q={key:1},R={key:0},W={key:1};function X(o,c,Y,Z,e,x){const d=r("MarkdownEditor"),v=r("ServiceList"),h=r("Empty"),_=r("Avatar"),f=r("el-button"),y=S("loading");return N((i(),n("div",I,[e.space!=null?(i(),n("div",P,[s("h2",null,t(e.space.name),1),s("div",M,[s("em",null,t(e.space.withPrivate?o.$t("common.private"):o.$t("common.public")),1),s("p",A,t(e.space.services.length)+" "+t(o.$t("service.services")),1)]),s("div",F,[s("div",L,[s("ul",z,[s("li",{class:u({selected:e.currentTab==="readme"}),onClick:c[0]||(c[0]=l=>e.currentTab="readme")},t(o.$t("common.readme")),3),s("li",{class:u({selected:e.currentTab==="services"}),onClick:c[1]||(c[1]=l=>e.currentTab="services")},t(o.$t("service.services2")),3)]),s("div",U,[e.currentTab==="readme"?(i(),n("div",j,[a(d,{readonly:"","without-padding":!0,modelValue:e.space.description,"onUpdate:modelValue":c[2]||(c[2]=l=>e.space.description=l)},null,8,["modelValue"])])):e.currentTab==="services"?(i(),n(T,{key:1},[e.space.services.length>0?(i(),m(v,{key:0,space:e.space.name,services:e.space.services},null,8,["space","services"])):(i(),m(h,{key:1,description:o.$t("service.noServices")},null,8,["description"]))],64)):p("",!0)])]),s("div",q,[s("div",J,[s("div",O,[a(_,{"file-key":e.space.user.avatar,size:"30px",margin:"0 10px 0 0"},null,8,["file-key"]),s("h4",null,t(o.getUserDisplayName(e.space.user)),1)]),s("p",G,t(e.space.user.introduce===""||e.space.user.introduce==null?"No introduce":e.space.user.introduce),1)]),o.userInfo!=null&&o.userInfo.id===e.space.userId?(i(),n("div",H,[a(f,{type:"primary",onClick:c[3]||(c[3]=l=>o.$router.push({name:"CreateService",query:{space:e.space.name}}))},{default:C(()=>[E(t(o.$t("service.createNewService")),1)]),_:1})])):p("",!0),s("ul",null,[s("li",null,[s("label",null,t(o.$t("space.homePage")),1),e.space.homepage!=null&&e.space.homepage!==""?(i(),n("a",{key:0,href:e.space.homepage,target:"_blank"},t(e.space.homepage),9,K)):(i(),n("p",Q,t(o.$t("common.none")),1))]),s("li",null,[s("label",null,t(o.$t("service.services2")),1),s("p",null,t(e.space.services.length),1)]),s("li",null,[s("label",null,t(o.$t("service.lastPublish")),1),e.space.lastPublish!=null?(i(),n("p",R,t(o.getDateOffsetText(e.space.lastPublish)),1)):(i(),n("p",W,"None"))])])])])])):p("",!0)])),[[y,e.loading]])}const ie=k(D,[["render",X],["__scopeId","data-v-65994c71"]]);export{ie as default};
