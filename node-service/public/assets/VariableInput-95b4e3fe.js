import{_,o as n,c as i,F as m,f as p,n as b,t as h,r as d,j as r,u as y,g as I}from"./index-2937f55a.js";const V={name:"InstallCheckbox",props:{modelValue:{type:Array},options:{}},data(){return{selected:null}},methods:{handleSelect(l){let a=this.modelValue.findIndex(e=>e===l.value);a===-1?this.$emit("update:modelValue",this.modelValue.concat([l.value])):this.$emit("update:modelValue",this.modelValue.filter((e,o)=>o!==a))}}},k={class:"installer-checkbox"},x=["onClick"];function C(l,a,e,o,v,u){return n(),i("ul",k,[(n(!0),i(m,null,p(e.options,t=>(n(),i("li",{key:t.value,class:b({selected:e.modelValue.findIndex(c=>c===t.value)!==-1}),onClick:c=>u.handleSelect(t)},h(t.label),11,x))),128))])}const K=_(V,[["render",C],["__scopeId","data-v-29883aab"]]);const g={name:"InstallInput"};function $(l,a,e,o,v,u){const t=d("el-input");return n(),r(t,{class:"install-input",size:"large"})}const T=_(g,[["render",$],["__scopeId","data-v-908eefa1"]]);function q(l){return y.post("/service/install",l)}function w(l){return y.post("/service/compile",l)}const R={name:"InstallRadio",props:{modelValue:{},options:{}},methods:{handleSelect(l){this.$emit("update:modelValue",l.value),this.$emit("change",l.value)}}},S={class:"installer-checkbox"},B=["onClick"];function U(l,a,e,o,v,u){return n(),i("ul",S,[(n(!0),i(m,null,p(e.options,t=>(n(),i("li",{key:t.value,class:b({selected:e.modelValue===t.value}),onClick:c=>u.handleSelect(t)},h(t.label),11,B))),128))])}const z=_(R,[["render",U],["__scopeId","data-v-c3cbe1f3"]]),A={name:"VariableInput",components:{InstallCheckbox:K,InstallRadio:z,InstallInput:T},props:{variable:{required:!0},valueKey:{default:"value"}},computed:{inputType(){return this.variable.inputType}},watch:{inputType(l){if(l==="checkbox")typeof this.variable[this.valueKey]=="string"&&(this.variable[this.valueKey]=[]);else{const a=this.variable[this.valueKey];a instanceof Array&&(this.variable[this.valueKey]=a[0]||"")}}}};function F(l,a,e,o,v,u){const t=d("InstallInput"),c=d("InstallCheckbox"),f=d("InstallRadio");return e.variable.inputType==="input"?(n(),r(t,{key:0,modelValue:e.variable[e.valueKey],"onUpdate:modelValue":a[0]||(a[0]=s=>e.variable[e.valueKey]=s),onInput:a[1]||(a[1]=s=>l.$emit("change",s))},null,8,["modelValue"])):e.variable.inputType==="checkbox"?(n(),r(c,{key:1,modelValue:e.variable[e.valueKey],"onUpdate:modelValue":a[2]||(a[2]=s=>e.variable[e.valueKey]=s),options:e.variable.options},null,8,["modelValue","options"])):e.variable.inputType==="radio"?(n(),r(f,{key:2,modelValue:e.variable[e.valueKey],"onUpdate:modelValue":a[3]||(a[3]=s=>e.variable[e.valueKey]=s),options:e.variable.options},null,8,["modelValue","options"])):I("",!0)}const D=_(A,[["render",F]]);export{z as I,D as V,T as a,K as b,w as c,q as i};
