import{_ as y,C as $,Q as g,$ as T,r as a,o as c,c as u,a as l,t as o,h as F,w as n,j as I,b as s,F as v,e as i}from"./index-bb7c4844.js";import{M as V,V as k,S as q,a as C,p as w}from"./index-37e186cc.js";import{C as B}from"./CompilerSelect-c2184a48.js";import{c as N}from"./user.service-5682c2c0.js";import"./service-01318163.js";const R={components:{FormTip:$,FormItemTip:g,MainServiceSelect:V,VersionSelect:k,ServiceTypeSelect:q,CompilerSelect:B,SpaceSelect:C,I18nInput:T},data(){return{space:null,form:{name:"",label:""}}},methods:{handleLabelInput(e){this.form.name=w(e,{toneType:"none",type:"array"}).map(t=>t.substr(0,1)).join("")},getRules(){return{name:[{required:!0,message:this.$t("form.isRequired",{value:this.$t("service.settings.name")})}],label:[{required:!0,message:this.$t("form.isRequired",{value:this.$t("service.settings.label")})}]}},create(){this.$refs.form.validate(e=>{e&&N({space:this.space,...this.form}).then(()=>{this.$router.push({name:"ServiceSettings",query:{space:this.space,service:this.form.name}})}).catch(t=>{this.$tip.apiFailed(t)})})}},created(){this.space=this.$route.query.space,this.$nextTick(()=>{setTimeout(()=>{this.$refs.labelInput.focus()},100)})}},j={class:"form"},L={class:"wrap"},M={class:"opera"};function U(e,t,D,E,r,m){const h=a("FormTip"),f=a("el-input"),d=a("FormItemTip"),_=a("el-form-item"),b=a("el-form"),S=a("el-button");return c(),u("div",j,[l("div",L,[l("h2",null,o(e.$t("service.createService")),1),r.space!=null?(c(),F(h,{key:0},{default:n(()=>[e.$i18n.locale==="en"?(c(),u(v,{key:0},[i(o(e.$t("service.createServiceFor")),1),l("em",null,o(r.space),1),i(". ")],64)):(c(),u(v,{key:1},[i(o(e.$t("service.createServiceFor1")),1),l("em",null,o(r.space),1),i(o(e.$t("service.createServiceFor2"))+"ã€‚ ",1)],64))]),_:1})):I("",!0),s(b,{ref:"form",model:r.form,rules:m.getRules()},{default:n(()=>[s(_,{label:e.$t("service.settings.label"),prop:"label",required:""},{default:n(()=>[s(f,{ref:"labelInput",modelValue:r.form.label,"onUpdate:modelValue":t[0]||(t[0]=p=>r.form.label=p),onInput:m.handleLabelInput},null,8,["modelValue","onInput"]),s(d,{content:e.$t("service.settings.labelTip")},null,8,["content"])]),_:1},8,["label"]),s(_,{label:e.$t("service.settings.name"),prop:"name",required:""},{default:n(()=>[s(f,{class:"follow-input",modelValue:r.form.name,"onUpdate:modelValue":t[1]||(t[1]=p=>r.form.name=p)},null,8,["modelValue"]),s(d,{content:e.$t("service.settings.nameTip")},null,8,["content"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),l("div",M,[s(S,{type:"primary",onClick:m.create},{default:n(()=>[i(o(e.$t("service.createService")),1)]),_:1},8,["onClick"])])])])}const J=y(R,[["render",U],["__scopeId","data-v-0824ae30"]]);export{J as default};
