import{_ as y,m as I,k as N,r as u,o as n,c as i,a as e,t as o,b as l,F as S,f as C,n as v,i as f,v as k,w as m,j as b,g as j,e as h,p as D,d as L}from"./index-2937f55a.js";import{s as x}from"./service-022673d3.js";import{f as B}from"./service.space-8d252d88.js";import{S as z}from"./ServiceInstaller-3a7533fa.js";import"./VariableInput-95b4e3fe.js";const T={components:{ServiceInstaller:z},data(){return{version:"v1",services:[],currentService:null,currentServiceDimension:"readme",project:null,framework:null,space:null}},computed:{...I(["currentProject"]),installed(){return this.currentService==null?!1:this.project.services[this.currentService.name]!=null},projectService(){return this.currentService==null?null:this.project.services[this.currentService.name]}},methods:{fetchProject(){N(this.currentProject.id).then(s=>{this.project=s,console.log("this.project",this.project);let t=null;for(const _ in this.project.framework){t=_;break}this.framework={name:t,...this.project.framework},this.fetchSpace()}).catch(s=>{console.log("e",s)})},fetchSpace(){B(this.project.space).then(s=>{this.space=s,this.searchSubServices()}).catch(s=>{console.log("e",s)})},searchSubServices(){x({spaceName:this.space.name,followServiceName:this.framework.name,serviceTypes:["common","page","logic","issue"]}).then(s=>{this.services=s}).catch(s=>{console.log("e",s)})},selectService(s){this.currentService=s}},created(){this.fetchProject()}},d=s=>(D("data-v-86e37e95"),s=s(),L(),s),P={class:"page"},V={key:0,class:"wrap"},A={class:"header"},R={class:"title"},E={class:"service-info"},F={class:"info"},U=d(()=>e("p",null,"current version",-1)),X={class:"content-wrap"},q={class:"service-wrap"},G={class:"search-box"},H={class:"service-list"},J=["onClick"],K=d(()=>e("p",null,"集成支付宝支付，提供完善健全的支付接口",-1)),M={key:0,class:"setting-wrap"},O=d(()=>e("h3",null,"Xxx Service",-1)),Q={class:"main"},W={class:"service-dimensions"},Y={class:"dimension-content"},Z={class:"opera"};function $(s,t,_,ee,r,a){const w=u("el-input"),g=u("ServiceInstaller"),p=u("el-button");return n(),i("div",P,[r.space!=null?(n(),i("div",V,[e("div",null,[e("div",A,[e("div",R,[e("h2",null,o(r.project.name),1),e("p",E,o(r.space.name)+" · "+o(r.framework.name),1)]),e("div",F,[e("em",null,o(r.version),1),U])]),e("div",X,[e("div",q,[e("div",G,[l(w,{size:"large",placeholder:"Search"})]),e("ul",H,[(n(!0),i(S,null,C(r.services,c=>(n(),i("li",{key:c.id,class:v({selected:r.currentService!=null&&r.currentService.id===c.id}),onClick:se=>a.selectService(c)},[e("h5",null,o(c.name),1),K],10,J))),128))])]),r.currentService!=null?(n(),i("div",M,[O,e("div",Q,[e("ul",W,[e("li",{class:v({selected:r.currentServiceDimension==="readme"}),onClick:t[0]||(t[0]=c=>r.currentServiceDimension="readme")},"Readme",2),e("li",{class:v({selected:r.currentServiceDimension==="install"}),onClick:t[1]||(t[1]=c=>r.currentServiceDimension="install")},"Install",2)]),e("div",Y,[f(e("div",null,"Readme",512),[[k,r.currentServiceDimension==="readme"]]),f(l(g,{ref:"installer",service:r.currentService,"project-service":a.projectService,space:r.space},null,8,["service","project-service","space"]),[[k,r.currentServiceDimension==="install"]])])]),e("div",Z,[a.installed?(n(),i(S,{key:0},[l(p,{type:"primary",size:"large",onClick:t[2]||(t[2]=c=>s.$refs.installer.install())},{default:m(()=>[h("REINSTALL")]),_:1}),l(p,{size:"large",onClick:t[3]||(t[3]=c=>s.$refs.installer.install())},{default:m(()=>[h("UNINSTALL")]),_:1})],64)):(n(),b(p,{key:1,type:"primary",size:"large",onClick:t[4]||(t[4]=c=>s.$refs.installer.install())},{default:m(()=>[h("INSTALL")]),_:1}))])])):j("",!0)])])])):j("",!0)])}const oe=y(T,[["render",$],["__scopeId","data-v-86e37e95"]]);export{oe as default};
